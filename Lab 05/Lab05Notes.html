<!-- Slide:  60-->
<!-- Sources: -->
<!--  
- [MDN HTML Basics](https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML)
- [Viewport Meta Tag - MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Viewport_meta_tag)
- Bootstrap Integration <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
((Links Bootstrap 5.3.1 CSS framework from CDN for responsive grid system and pre-built components.))
- [Bootstrap Official Documentation](https://getbootstrap.com/docs/5.3/getting-started/introduction/)
- [Bootstrap CDN Setup](https://getbootstrap.com/docs/5.3/getting-started/download/#cdn-via-jsdelivr)
- [CSS Transform - MDN](https://developer.mozilla.org/en-US/docs/Web/CSS/transform)
- [CSS Animation Performance](https://web.dev/animations-guide/)
- [HTML Template Element - MDN](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template)
- [Bootstrap Flexbox Utilities](https://getbootstrap.com/docs/5.3/utilities/flex/)
- [Bootstrap Grid System](https://getbootstrap.com/docs/5.3/layout/grid/)
- [Template Content Cloning - MDN](https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode)
- [QuerySelector Method - MDN](https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector)
- [XSS Prevention - OWASP](https://owasp.org/www-community/attacks/xss/)
- [DOMContentLoaded Event - MDN](https://developer.mozilla.org/en-US/docs/Web/API/Document/DOMContentLoaded_event)
- [SetInterval Method - MDN](https://developer.mozilla.org/en-US/docs/Web/API/setInterval)
- https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template
- https://getbootstrap.com/docs/5.3/
- https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model
- https://www.youtube.com/watch?v=2O-NLU8XLyA  
- https://www.youtube.com/watch?v=0ik6X4DJKCc  
- https://www.youtube.com/watch?v=PoRJizFvM7s  
- https://www.youtube.com/watch?v=4sosXZsdy-s  
- https://www.youtube.com/watch?v=JJSoEo8JSnc  
- https://css-tricks.com/crafting-reusable-html-templates/
- https://javascript.info/dom-nodes
- https://getbootstrap.com/docs/5.3/layout/grid/



Notes: I learned that #f8f9fa is Bootstrap's light gray background color, maintaining consistency with the framework.
CSS transform is more performant than changing top/left properties because it doesn't trigger layout recalculation.
- Key Points:
1. <template> Element: HTML element that holds client-side content not rendered when page loads
2. Bootstrap Grid: col-md-6 col-lg-4 creates responsive layout (2 cards on medium, 3 on large screens)
3. Flexbox Layout: d-flex flex-column for vertical layout, flex-grow-1 for content expansion
4. Bootstrap Classes Used:
- h-100: Full height cards for equal heights
- justify-content-between: Spreads title and ID apart
- mt-auto: Pushes timestamp to bottom


- I only knew how to create HTML elements with createElement()  
- I understand templates provide cleaner, more maintainable approach  
- Templates separate structure from data, following MVC principles

- Asynchronous JavaScript Patterns - hardest part
- Event-driven programming with DOMContentLoaded
- Timed execution with setInterval() and setTimeout()
- Non-blocking UI updates with loading states
- CSS transforms for smooth animations
- Flexbox for complex layouts
- CSS custom properties for theming
- Responsive design with Bootstrap grid


- My Issue: How to efficiently populate multiple news cards  
- My Issue: Keeping displayed content in sync with data array  
- My Issue: Updates happening invisibly  

------ I spent too much time on this assignment. ------ 

- Why:
- responsive grid system 
- Pre-built card components with consistent styling

Transforms & Animations
- Why:
- transform: translateY(-5px): Moves card up 5px on hover
- box-shadow creates depth with blur & transparency
- Provides visual feedback for user interaction

-->


<!-- HTML:
- <!DOCTYPE html>: Declares HTML5 document type
- lang="en": Specifies English language for accessibility
- charset="UTF-8": Enables Unicode character support
- viewport meta tag: Essential for responsive design on mobile devices 


JavaScript:
 let news = [
    { 
        id: 1, 
        title: 'Election Results', 
        content: "Newly elected minister announces major policy changes affecting healthcare and education sectors across the nation." 
    },
    // ... more objects
];

- Array of objects representing news articles. Each object has consistent properties: id, title, & content.
- Used descriptive property names for clarity and maintained consistent data structure for easier template population.

Functions Breakdown - Cloning Function
function createNewsCard(newsItem) {
    // 1. Get the template and clone it
    const template = document.getElementById('news-template');
    const clone = template.content.cloneNode(true);
    
    // 2. Populate the template with data
    clone.querySelector('.news-title').textContent = newsItem.title;
    clone.querySelector('.news-content').textContent = newsItem.content;
    clone.querySelector('.news-id').textContent = ID: ${newsItem.id};
    
    // 3. Return the populated template
    return clone;
}

Breakdown:
- document.getElementById('news-template'): Gets template element reference
- template.content.cloneNode(true): Creates deep copy of template content
- clone.querySelector('.news-title'): Finds specific element within cloned template
- textContent = newsItem.title: Safely inserts data 


- Refresh Function
function refreshNews() {
    console.log(' Refreshing news data...');
    
    // loading spinner
    const spinner = document.querySelector('.loading-spinner');
    spinner.classList.add('show');
    
    // Simulate network delay (like real API)
    setTimeout(() => {
        // 1. Clear existing news from container
        const container = document.getElementById('news-container');
        container.innerHTML = '';
        
        // 2. Check for new news items (simulate dynamic data)
        simulateNewNews();
        
        // 3. Create and add each news item to the container
        news.forEach(newsItem => {
            const newsCard = createNewsCard(newsItem);
            container.appendChild(newsCard);
        });
        
        // 4. Update the last updated time
        updateLastUpdatedTime();
        
        // 5. Hide loading spinner
        spinner.classList.remove('show');
        
        console.log(News refreshed. Currently showing ${news.length} articles);
    }, 500); // Half second delay to show loading state
}


Event-Driven Initialization
document.addEventListener('DOMContentLoaded', function() {
    console.log('Page loaded - initializing news feed...');
    
    // Load news immediately when page loads
    refreshNews();
    
    // Set up interval to refresh every 5 seconds (as required by lab)
    setInterval(refreshNews, 5000);
    
    console.log(' Auto-refresh set up - news will update every 5 seconds');
});



- DOMContentLoaded Event: Fires when HTML parsing is complete
- refreshNews(): Initial call to populate page immediately  
- setInterval(refreshNews, 5000): Repeats function every 5000 milliseconds 



- Advanced - Data Simulation
function simulateNewNews() {
    const possibleNews = [
        { id: 4, title: 'Tech Innovation', content: "Revolutionary AI breakthrough..." },
        // ... more news items
    ];
    
    // Randomly add a new news item (30% chance every refresh)
    if (Math.random() < 0.3 && news.length < 7) {
        const availableNews = possibleNews.filter(item => 
            !news.find(existing => existing.id === item.id)
        );
        if (availableNews.length > 0) {
            const randomNews = availableNews[Math.floor(Math.random() * availableNews.length)];
            news.push(randomNews);
            showRefreshIndicator();
        }
    }
}

- Probability: Math.random() < 0.3 creates 30% chance
- Array Filter: Removes already existing news items
- Array Find: Checks for duplicate IDs
- Conditional Logic: Multiple conditions for adding news
- Console Output:
// Debugging logs implemented:
console.log(' Page loaded - initializing news feed...');
console.log('Refreshing news data...');
console.log( News refreshed! Currently showing ${news.length} articles);

-->

<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lab #5</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .news-item { border: 1px solid #ccc; padding: 10px; margin-bottom: 10px; border-radius: 5px; background: #f9f9f9; }
    .news-title { font-weight: bold; margin-bottom: 5px; }
  </style>
</head>
<body>

  <h1>Latest News</h1>
  <div id="news-container"></div>

  <script>
    // The news data
    let news = [
      { id: 1, title: 'Election Results', content: "Newly elected minister..." },
      { id: 2, title: 'Sporting Success', content: "World Cup winners..." },
      { id: 3, title: 'Tornado Warning', content: "Residents should prepare..." }
    ];

    // Function to display the news
    function showNews() {
      const container = document.getElementById("news-container");

      // Clear out old news
      container.innerHTML = "";

      // Loop through the array and add each news item
      news.forEach(item => {
        const div = document.createElement("div");
        div.className = "news-item";

        // Fill in the title and content
        div.innerHTML = 
          <div class="news-title">${item.title}</div>
          <div class="news-content">${item.content}</div>
        ;

        // Add to the page
        container.appendChild(div);
      });
    }

    // Show news right away
    showNews();

    // Refresh every 5 seconds
    setInterval(showNews, 5000);
  </script>

</body>
</html> -->


<!-- ------------------------------------------- -------------------------------------------

Slide:  61

Notes:
- Issues I'm having:
Template Not Showing Content / Initially forgot to access .content property of template - needed to chnge from template.cloneNode(true) to template.content.cloneNode(true)

- Form Clearing After Submission
Need to reset form fields after successful submission

- Managing Interval State
Need to track whether auto-refresh was running or stopped / Used global boolean variable (isRefreshRunning) and conditional logic


Questions:
Question 1: How do I prevent form submission from reloading the page?
Question 2: How do I clone HTML templates multiple times?
Question 3: How can I start and stop repeating functions?
Question 4: How do I generate unique IDs for new items?


- Sources
- https://www.w3schools.com/tags/tag_template.asp
- https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template
- https://www.w3schools.com/jsref/met_win_setinterval.asp
- https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault
- https://getbootstrap.com/docs/5.3/getting-started/introduction/
- https://www.w3schools.com/js/js_htmldom.asp
- https://developer.mozilla.org/en-US/docs/Web/API/setTimeout
- https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault
- https://www.w3schools.com/tags/tag_template.asp
- https://www.w3schools.com/jsref/met_win_setinterval.asp


HTML
- Templates are not rendered when the page loads
- Must use cloneNode(true) to make a deep copy of template content
- Template content is accessed through the .content property
- Each clone can be populated with different data

- Page Reload
Two approaches:
1. event.preventDefault() - Stops the default form submission
2. No form tag - Use input elements with click handlers instead

Chose approach #1 because it maintains semantic HTML structure while preventing page reload.

- Interval
- setInterval() returns an interval ID that can be stored
- clearInterval(intervalId) stops a running interval
- Global variables needed to track interval state across functions

- Array
- push() method adds new elements to end of array
- forEach() iterates through all array elements
- filter() and find() methods useful for checking existing data


- More Notes / Java:
- Basic Dynamic Display
- Created array of news objects with id, title, content properties
- Implemented template cloning and population function
- Set up 5-second interval for automatic refresh
- Added loading spinner and visual feedback

- Added HTML form with title and content inputs
- Implemented form submission handler with preventDefault
- Created toggle functionality for start/stop auto-refresh
- Enhanced user interface with status indicators

let news = [...] // Main data array containing news articles
let refreshInterval; // Stores interval ID for auto-refresh
let isRefreshRunning = true; // Tracks current refresh state
let nextNewsId = 4; // Counter for generating unique IDs

- simulateNewNews()
- Randomly adds new articles to simulate real-time data
- Uses Math.random() for 30% chance of adding content
- Filters out already existing articles by ID comparison
- Demonstrates how external data might be added to array

- createNewsCard(newsItem)
- Clones the HTML template element
- Populates template fields with article data using querySelector
- Returns populated template ready for DOM insertion
- Core template manipulation function

- refreshNews()
- Main function that syncs display with data array
- Clears existing content and rebuilds from current array
- Shows loading spinner during refresh process
- Calls simulateNewNews() and updateLastUpdatedTime()

- addNewsArticle(title, content)
- Creates new article object with unique ID
- Pushes new article to main news array
- Immediately calls refreshNews() to update display
- Demonstrates real-time data addition

- toggleRefresh()
- Starts or stops the automatic refresh interval
- Uses clearInterval() and setInterval() for control
- Updates UI elements to reflect current state
- Manages global state variables

------------------------------------------- ------------------------------------------- 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab #5 </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .news-header {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .news-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
        }
        
        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .card-title {
            color: #2c3e50;
            font-weight: 600;
        }
        
        .card-text {
            color: #6c757d;
            line-height: 1.6;
        }
        
        .news-id {
            background: #007bff;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .loading-spinner {
            display: none;
        }
        
        .loading-spinner.show {
            display: block;
        }
        
        .last-updated {
            color: #6c757d;
            font-size: 0.9rem;
            text-align: center;
            margin: 2rem 0;
        }
        
        .refresh-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .refresh-indicator.show {
            opacity: 1;
        }
        
        .form-section {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .control-section {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .status-indicator {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            display: inline-block;
            margin: 0.5rem;
        }
        
        .status-running {
            background: #d4edda;
            color: #155724;
        }
        
        .status-stopped {
            background: #f8d7da;
            color: #721c24;
        }
        
        .btn-stop {
            background: #dc3545;
            border-color: #dc3545;
        }
        
        .btn-start {
            background: #28a745;
            border-color: #28a745;
        }
    </style>
</head>

<body>

    <div class="news-header">
      <div class="container">
          <div class="row">
              <div class="col-md-8">
                  <h1 class="display-4">Tabitha's News Feed</h1>
                  <p class="lead">Live updates every 5 seconds • Add news</p>
              </div>
              <div class="col-md-4 text-end">
                  <div class="loading-spinner">
                      <div class="spinner-border text-light" role="status">
                          <span class="visually-hidden">Loading...</span>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>

  <div class="container">

      <div class="control-section">
          <h4>News Feed Controls</h4>
          <div class="mb-3">
              <span id="status-indicator" class="status-indicator status-running">
                  Auto-refresh: ON
              </span>
          </div>
          <button id="toggle-refresh" class="btn btn-stop text-white">
              Stop Auto-Refresh
          </button>
      </div>

   
      <div class="form-section">
          <h3 class="mb-4">Add News </h3>
          <form id="news-form">
              <div class="row">
                  <div class="col-md-6 mb-3">
                      <label for="news-title" class="form-label">News Title</label>
                      <input type="text" class="form-control" id="news-title" placeholder="Enter news title..." required>
                  </div>
                  <div class="col-md-6 mb-3">
                      <label for="news-content" class="form-label">News Content</label>
                      <textarea class="form-control" id="news-content" rows="3" placeholder="Enter news content..." required></textarea>
                  </div>
              </div>
              <button type="submit" class="btn btn-primary">
                  Add News Article
              </button>
          </form>
      </div>
      
    
      <div class="last-updated" id="last-updated">
          Page loaded at: <span id="update-time">Loading...</span>
      </div>
      
     
      <div id="news-container" class="row">
     
      </div>
  </div>


  <div id="refresh-indicator" class="refresh-indicator">
      News Updated
  </div>


  <template id="news-template">
      <div class="col-md-6 col-lg-4">
          <div class="card news-card h-100">
              <div class="card-body d-flex flex-column">
                  <div class="d-flex justify-content-between align-items-start mb-2">
                      <h5 class="card-title news-title">News Title</h5>
                      <span class="news-id">ID: 0</span>
                  </div>
                  <p class="card-text news-content flex-grow-1">News content goes here...</p>
                  <small class="text-muted mt-auto">
                      <i class="bi bi-clock"></i> Just updated
                  </small>
              </div>
          </div>
      </div>
  </template>

  <script>
  
      let news = [
          { 
              id: 1, 
              title: 'Election Results', 
              content: "Newly elected minister announces major policy changes affecting healthcare and education sectors across the nation." 
          },
          { 
              id: 2, 
              title: 'Sporting Success', 
              content: "World Cup winners return home to massive celebration as thousands gather in the capital to welcome their heroes." 
          },
          { 
              id: 3, 
              title: 'Tornado Warning', 
              content: "Residents should prepare for severe weather conditions expected to hit the region within the next 24 hours." 
          }
      ];

      
      let nextNewsId = 4; 

    
      function simulateNewNews() {
          const possibleNews = [
              { id: nextNewsId++, title: 'Tech Innovation', content: "Revolutionary AI breakthrough promises to transform medical diagnosis accuracy by 300%." },
              { id: nextNewsId++, title: 'Climate Update', content: "Scientists report unexpected recovery in coral reef systems following new conservation efforts." },
              { id: nextNewsId++, title: 'Economic Growth', content: "Stock markets reach all-time highs as unemployment rates drop to historic lows nationwide." },
              { id: nextNewsId++, title: 'Space Discovery', content: "NASA announces discovery of potentially habitable exoplanet just 20 light-years from Earth." }
          ];
          
          if (Math.random() < 0.3 && news.length < 7) {
              const availableNews = possibleNews.filter(item => 
                  !news.find(existing => existing.id === item.id)
              );
              if (availableNews.length > 0) {
                  const randomNews = availableNews[Math.floor(Math.random() * availableNews.length)];
                  news.push(randomNews);
                  showRefreshIndicator();
              }
          }
      }

      
      function createNewsCard(newsItem) {
      
          const template = document.getElementById('news-template');
          const clone = template.cloneNode(true); 
          
         
          clone.querySelector('.news-title').textContent = newsItem.title;
          clone.querySelector('.news-content').textContent = newsItem.content;
          clone.querySelector('.news-id').textContent = `ID: ${newsItem.id}`;
          
          return clone;
      }

   
      function refreshNews() {
          
          console.log('Refreshing news data...');
          
          const spinner = document.querySelector('.loading-spinner');
          spinner.classList.add('show');
          
          setTimeout(() => {
              const container = document.getElementById('news-container');
              container.innerHTML = '';
              
              simulateNewNews();
              
              news.forEach(newsItem => {
                  const newsCard = createNewsCard(newsItem);
                  container.appendChild(newsCard);
              });
              
              updateLastUpdatedTime();
              spinner.classList.remove('show');
              
              console.log(`News refreshed! Currently showing ${news.length} articles`);
          }, 500); 
      }

      function updateLastUpdatedTime() {
          const now = new Date();
          const timeString = now.toLocaleTimeString();
          document.getElementById('update-time').textContent = timeString;
      }

      function showRefreshIndicator() {
          const indicator = document.getElementById('refresh-indicator');
          indicator.classList.add('show');
          setTimeout(() => {
              indicator.classList.remove('show');
          }, 2000);
      }

      function addNewsArticle(title, content) {
          const newArticle = {
              id: nextNewsId++,
              title: title,
              content: content
          };
          
          news.push(newArticle);
          console.log('New article added:', newArticle);
          showRefreshIndicator();
          refreshNews();
      }


      function toggleRefresh() {
          const button = document.getElementById('toggle-refresh');
          const statusIndicator = document.getElementById('status-indicator');
          
     
          if (isRefreshRunning) { 
              button.innerHTML = 'Start Auto-Refresh';
              button.className = 'btn btn-start text-white';
              statusIndicator.innerHTML = 'Auto-refresh: OFF';
              statusIndicator.className = 'status-indicator status-stopped';
              
              console.log('Auto-refresh stopped');
          } else {
         
              
              button.innerHTML = 'Stop Auto-Refresh';
              button.className = 'btn btn-stop text-white';
              statusIndicator.innerHTML = 'Auto-refresh: ON';
              statusIndicator.className = 'status-indicator status-running';
              
              console.log('Auto-refresh started');
              refreshNews();
          }
      }

      document.addEventListener('DOMContentLoaded', function() {
          console.log('Page loaded - initializing news feed...');
          
          refreshNews();
          
     
          setInterval(refreshNews, 5000); 
          
     
          document.getElementById('news-form').addEventListener('submit', function(event) {
            
              
              const titleInput = document.getElementById('news-title');
              const contentInput = document.getElementById('news-content');
              
              const title = titleInput.value.trim();
              const content = contentInput.value.trim();
              
              if (title && content) {
                  addNewsArticle(title, content);
                  
        
                  
                  const originalText = event.target.querySelector('button').innerHTML;
                  event.target.querySelector('button').innerHTML = 'Article Added!';
                  setTimeout(() => {
                      event.target.querySelector('button').innerHTML = originalText;
                  }, 2000);
              } else {
                  alert('Please fill in both title and content fields.');
              }
          });
          
          document.getElementById('toggle-refresh').addEventListener('click', toggleRefresh);
          
          console.log('Auto-refresh set up - news will update every 5 seconds');
      });

      console.log('Initial news data:', news);
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
------------------------------------------- -------------------------------------------

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab #5 </title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .news-header {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .news-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
        }
        
        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .card-title {
            color: #2c3e50;
            font-weight: 600;
        }
        
        .card-text {
            color: #6c757d;
            line-height: 1.6;
        }
        
        .news-id {
            background: #007bff;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .loading-spinner {
            display: none;
        }
        
        .loading-spinner.show {
            display: block;
        }
        
        .last-updated {
            color: #6c757d;
            font-size: 0.9rem;
            text-align: center;
            margin: 2rem 0;
        }
        
        .refresh-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .refresh-indicator.show {
            opacity: 1;
        }
        
        .form-section {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .control-section {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .status-indicator {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 500;
            display: inline-block;
            margin: 0.5rem;
        }
        
        .status-running {
            background: #d4edda;
            color: #155724;
        }
        
        .status-stopped {
            background: #f8d7da;
            color: #721c24;
        }
        
        .btn-stop {
            background: #dc3545;
            border-color: #dc3545;
        }
        
        .btn-start {
            background: #28a745;
            border-color: #28a745;
        }
    </style>
</head>

<body>
    <div class="news-header">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <h1 class="display-4">Tabitha's News Feed</h1>
                    <p class="lead">Live updates every 5 seconds • Add news</p>
                </div>
                <div class="col-md-4 text-end">
                    <div class="loading-spinner">
                        <div class="spinner-border text-light" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="control-section">
            <h4>News Feed Controls</h4>
            <div class="mb-3">
                <span id="status-indicator" class="status-indicator status-running">
                    Auto-refresh: ON
                </span>
            </div>
            <button id="toggle-refresh" class="btn btn-stop text-white">
                Stop Auto-Refresh
            </button>
        </div>

        <div class="form-section">
            <h3 class="mb-4">Add New News Article</h3>
            <form id="news-form">
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label for="news-title" class="form-label">News Title</label>
                        <input type="text" class="form-control" id="news-title" placeholder="Enter news title..." required>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label for="news-content" class="form-label">News Content</label>
                        <textarea class="form-control" id="news-content" rows="3" placeholder="Enter news content..." required></textarea>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">
                    Add News Article
                </button>
            </form>
        </div>
        
        <div class="last-updated" id="last-updated">
            Page loaded at: <span id="update-time">Loading...</span>
        </div>
        
        <div id="news-container" class="row">
        </div>
    </div>

    <div id="refresh-indicator" class="refresh-indicator">
        News Updated
    </div>

    <template id="news-template">
        <div class="col-md-6 col-lg-4">
            <div class="card news-card h-100">
                <div class="card-body d-flex flex-column">
                    <div class="d-flex justify-content-between align-items-start mb-2">
                        <h5 class="card-title news-title">News Title</h5>
                        <span class="news-id">ID: 0</span>
                    </div>
                    <p class="card-text news-content flex-grow-1">News content goes here...</p>
                    <small class="text-muted mt-auto">
                        <i class="bi bi-clock"></i> Just updated
                    </small>
                </div>
            </div>
        </div>
    </template>

    <script>
        let news = [
            { 
                id: 1, 
                title: 'Election Results', 
                content: "Newly elected minister announces major policy changes affecting healthcare and education sectors across the nation." 
            },
            { 
                id: 2, 
                title: 'Sporting Success', 
                content: "World Cup winners return home to massive celebration as thousands gather in the capital to welcome their heroes." 
            },
            { 
                id: 3, 
                title: 'Tornado Warning', 
                content: "Residents should prepare for severe weather conditions expected to hit the region within the next 24 hours." 
            }
        ];

        let refreshInterval;
        let isRefreshRunning = true;
        let nextNewsId = 4;

        function simulateNewNews() {
            const possibleNews = [
                { id: nextNewsId++, title: 'Tech Innovation', content: "Revolutionary AI breakthrough promises to transform medical diagnosis accuracy by 300%." },
                { id: nextNewsId++, title: 'Climate Update', content: "Scientists report unexpected recovery in coral reef systems following new conservation efforts." },
                { id: nextNewsId++, title: 'Economic Growth', content: "Stock markets reach all-time highs as unemployment rates drop to historic lows nationwide." },
                { id: nextNewsId++, title: 'Space Discovery', content: "NASA announces discovery of potentially habitable exoplanet just 20 light-years from Earth." }
            ];
            
            if (Math.random() < 0.3 && news.length < 7) {
                const availableNews = possibleNews.filter(item => 
                    !news.find(existing => existing.id === item.id)
                );
                if (availableNews.length > 0) {
                    const randomNews = availableNews[Math.floor(Math.random() * availableNews.length)];
                    news.push(randomNews);
                    showRefreshIndicator();
                }
            }
        }

        function createNewsCard(newsItem) {
            const template = document.getElementById('news-template');
            const clone = template.content.cloneNode(true);
            
            clone.querySelector('.news-title').textContent = newsItem.title;
            clone.querySelector('.news-content').textContent = newsItem.content;
            clone.querySelector('.news-id').textContent = `ID: ${newsItem.id}`;
            
            return clone;
        }

        function refreshNews() {
            if (!isRefreshRunning) return;
            
            console.log('Refreshing news data...');
            
            const spinner = document.querySelector('.loading-spinner');
            spinner.classList.add('show');
            
            setTimeout(() => {
                const container = document.getElementById('news-container');
                container.innerHTML = '';
                
                simulateNewNews();
                
                news.forEach(newsItem => {
                    const newsCard = createNewsCard(newsItem);
                    container.appendChild(newsCard);
                });
                
                updateLastUpdatedTime();
                spinner.classList.remove('show');
                
                console.log(`News refreshed! Currently showing ${news.length} articles`);
            }, 500); 
        }

        function updateLastUpdatedTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            document.getElementById('update-time').textContent = timeString;
        }

        function showRefreshIndicator() {
            const indicator = document.getElementById('refresh-indicator');
            indicator.classList.add('show');
            setTimeout(() => {
                indicator.classList.remove('show');
            }, 2000);
        }

        function addNewsArticle(title, content) {
            const newArticle = {
                id: nextNewsId++,
                title: title,
                content: content
            };
            
            news.push(newArticle);
            console.log('New article added:', newArticle);
            showRefreshIndicator();
            refreshNews();
        }

        function toggleRefresh() {
            const button = document.getElementById('toggle-refresh');
            const statusIndicator = document.getElementById('status-indicator');
            
            if (isRefreshRunning) {
                clearInterval(refreshInterval);
                isRefreshRunning = false;
                
                button.innerHTML = 'Start Auto-Refresh';
                button.className = 'btn btn-start text-white';
                statusIndicator.innerHTML = 'Auto-refresh: OFF';
                statusIndicator.className = 'status-indicator status-stopped';
                
                console.log('Auto-refresh stopped');
            } else {
                refreshInterval = setInterval(refreshNews, 5000);
                isRefreshRunning = true;
                
                button.innerHTML = 'Stop Auto-Refresh';
                button.className = 'btn btn-stop text-white';
                statusIndicator.innerHTML = 'Auto-refresh: ON';
                statusIndicator.className = 'status-indicator status-running';
                
                console.log('Auto-refresh started');
                refreshNews();
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded - initializing news feed...');
            
            refreshNews();
            
            refreshInterval = setInterval(refreshNews, 5000);
            
            document.getElementById('news-form').addEventListener('submit', function(event) {
                event.preventDefault();
                
                const titleInput = document.getElementById('news-title');
                const contentInput = document.getElementById('news-content');
                
                const title = titleInput.value.trim();
                const content = contentInput.value.trim();
                
                if (title && content) {
                    addNewsArticle(title, content);
                    
                    const originalText = event.target.querySelector('button').innerHTML;
                    event.target.querySelector('button').innerHTML = 'Article Added!';
                    setTimeout(() => {
                        event.target.querySelector('button').innerHTML = originalText;
                    }, 2000);
                } else {
                    alert('Please fill in both title and content fields.');
                }
            });
            
            document.getElementById('toggle-refresh').addEventListener('click', toggleRefresh);
            
            console.log('Auto-refresh set up - news will update every 5 seconds');
        });

        console.log('Initial news data:', news);
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
-->