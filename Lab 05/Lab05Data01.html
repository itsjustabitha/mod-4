<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab #5</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .news-header {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .news-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 1.5rem;
        }
        
        .news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .card-title {
            color: #2c3e50;
            font-weight: 600;
        }
        
        .card-text {
            color: #6c757d;
            line-height: 1.6;
        }
        
        .news-id {
            background: #007bff;
            color: white;
            padding: 0.25rem 0.5rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .loading-spinner {
            display: none;
        }
        
        .loading-spinner.show {
            display: block;
        }
        
        .last-updated {
            color: #6c757d;
            font-size: 0.9rem;
            text-align: center;
            margin: 2rem 0;
        }
        
        .refresh-indicator {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .refresh-indicator.show {
            opacity: 1;
        }
    </style>
</head>

<body>
  
    <div class="news-header">
        <div class="container">
            <div class="row">
                <div class="col-md-8">
                    <h1 class="display-4">Tabitha's News Feed</h1>
                    <p class="lead">Live updates every 5 seconds</p>
                </div>
                <div class="col-md-4 text-end">
                    <div class="loading-spinner">
                        <div class="spinner-border text-light" role="status">
                            <span class="visually-hidden">Loading...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

   
    <div class="container">
       
        <div class="last-updated" id="last-updated">
            Page loaded at: <span id="update-time">Loading...</span>
        </div>
        
      
        <div id="news-container" class="row">
           
        </div>
    </div>


    <div id="refresh-indicator" class="refresh-indicator">
        üîÑ News Updated
    </div>


    <template id="news-template">
        <div class="col-md-6 col-lg-4">
            <div class="card news-card h-100">
                <div class="card-body d-flex flex-column">
                    <div class="d-flex justify-content-between align-items-start mb-2">
                        <h5 class="card-title news-title">News Title</h5>
                        <span class="news-id">ID: 0</span>
                    </div>
                    <p class="card-text news-content flex-grow-1">News content...</p>
                    <small class="text-muted mt-auto">
                        <i class="bi bi-clock"></i> Just updated
                    </small>
                </div>
            </div>
        </div>
    </template>

    <script>
      
        let news = [
            { 
                id: 1, 
                title: 'Election Results', 
                content: "Newly elected minister announces major policy changes affecting healthcare and education sectors across the nation." 
            },
            { 
                id: 2, 
                title: 'Sporting Success', 
                content: "World Cup winners return home to massive celebration as thousands gather in the capital to welcome their heroes." 
            },
            { 
                id: 3, 
                title: 'Tornado Warning', 
                content: "Residents should prepare for severe weather conditions expected to hit the region within the next 24 hours." 
            }
        ];

        
        function simulateNewNews() {
            const possibleNews = [
                { id: 4, title: 'Tech Innovation', content: "Revolutionary AI breakthrough promises to transform medical diagnosis accuracy by 300%." },
                { id: 5, title: 'Climate Update', content: "Scientists report unexpected recovery in coral reef systems following new conservation efforts." },
                { id: 6, title: 'Economic Growth', content: "Stock markets reach all-time highs as unemployment rates drop to historic lows nationwide." },
                { id: 7, title: 'Space Discovery', content: "NASA announces discovery of potentially habitable exoplanet just 20 light-years from Earth." }
            ];
            
          
            if (Math.random() < 0.3 && news.length < 7) {
                const availableNews = possibleNews.filter(item => 
                    !news.find(existing => existing.id === item.id)
                );
                if (availableNews.length > 0) {
                    const randomNews = availableNews[Math.floor(Math.random() * availableNews.length)];
                    news.push(randomNews);
                    showRefreshIndicator();
                }
            }
        }

        
        function createNewsCard(newsItem) {
          
            const template = document.getElementById('news-template');
            const clone = template.content.cloneNode(true);
            
      
            clone.querySelector('.news-title').textContent = newsItem.title;
            clone.querySelector('.news-content').textContent = newsItem.content;
            clone.querySelector('.news-id').textContent = `ID: ${newsItem.id}`;
            
       
            return clone;
        }

      
        function refreshNews() {
            console.log('üîÑ Refreshing news data...');
            
       
            const spinner = document.querySelector('.loading-spinner');
            spinner.classList.add('show');
            
           
            setTimeout(() => {
              
                const container = document.getElementById('news-container');
                container.innerHTML = '';
                
             
                simulateNewNews();
                
                
                news.forEach(newsItem => {
                    const newsCard = createNewsCard(newsItem);
                    container.appendChild(newsCard);
                });
                
         
                updateLastUpdatedTime();
                
               
                spinner.classList.remove('show');
                
                console.log(`‚úÖ News refreshed! Currently showing ${news.length} articles`);
            }, 500); 
        }

    
        function updateLastUpdatedTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString();
            document.getElementById('update-time').textContent = timeString;
        }

      
        function showRefreshIndicator() {
            const indicator = document.getElementById('refresh-indicator');
            indicator.classList.add('show');
            setTimeout(() => {
                indicator.classList.remove('show');
            }, 2000);
        }

       
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìÑ Page loaded - initializing news feed...');
            
          
            refreshNews();
            
         
            setInterval(refreshNews, 5000);
            
            console.log('‚è∞ Auto-refresh set up - news will update every 5 seconds');
        });

      
        console.log('Initial news data:', news);
    </script>

   
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>